(this["webpackJsonpbooks-app"]=this["webpackJsonpbooks-app"]||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){},31:function(e,t){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var o=n(1),c=n.n(o),s=n(10),i=n.n(s),a=(n(16),n(2)),l=(n(17),n(18),n(11)),r=n.n(l),u=n(0),b=function(e){var t=Object(o.useState)(""),n=Object(a.a)(t,2),c=n[0],s=n[1];return Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),r.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(c)).then((function(t){e.saveData(t.body)})),s("")},children:[Object(u.jsx)("input",{type:"text",onChange:function(e){s(e.target.value)},value:c}),Object(u.jsx)("button",{type:"submit",children:"Search"})]})},j=(n(38),function(e){return Object(u.jsxs)("div",{className:"filter-container",children:[Object(u.jsx)("label",{children:"Sort by:"}),Object(u.jsxs)("select",{value:e.selectedSort,onChange:function(t){e.sortChange(t.target.value)},children:[Object(u.jsx)("option",{value:"all",children:"All"}),Object(u.jsx)("option",{value:"liked",children:"Liked"})]})]})}),d=(n(39),n(7)),h=(n(40),function(e){return Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"image-container",children:Object(u.jsx)("img",{src:e.image,alt:"The book cover"})}),Object(u.jsxs)("div",{className:"actions-container",children:[Object(u.jsx)("button",{onClick:function(){var t;e.changeBooksData(null===(t=e.booksInfo)||void 0===t?void 0:t.map((function(t){return t.id===e.book.id?Object(d.a)(Object(d.a)({},t),{},{liked:!e.book.liked}):t})))},children:e.book.liked?Object(u.jsx)("i",{className:"fas fa-heart"}):Object(u.jsx)("i",{className:"far fa-heart"})}),Object(u.jsx)("button",{onClick:function(){var t;e.changeBooksData(null===(t=e.booksInfo)||void 0===t?void 0:t.filter((function(t){return t.id!==e.book.id}))),console.log(e.book)},children:Object(u.jsx)("i",{className:"fas fa-trash"})})]}),Object(u.jsxs)("div",{className:"info-container",children:[Object(u.jsx)("h2",{children:e.title}),Object(u.jsx)("p",{children:e.author}),Object(u.jsx)("p",{children:"0000"!==e.publishedDate?e.publishedDate.substr(0,4):""}),Object(u.jsx)("p",{children:e.category})]})]})}),f=function(e){var t;return Object(u.jsxs)("section",{children:[Object(u.jsxs)("p",{className:"results-number ",children:["Found ",e.totalAmount," results"]}),Object(u.jsx)("div",{className:"results-section",children:null===e||void 0===e||null===(t=e.sortedBooks)||void 0===t?void 0:t.map((function(t,n){var o,c,s,i;return Object(u.jsx)(h,{id:n,book:t,liked:!1,image:!1===t.volumeInfo.hasOwnProperty("imageLinks")?"https://vignette.wikia.nocookie.net/pandorahearts/images/a/ad/Not_available.jpg/revision/latest?cb=20141028171337":t.volumeInfo.imageLinks.thumbnail,title:null===(o=t.volumeInfo)||void 0===o?void 0:o.title,author:null===(c=t.volumeInfo)||void 0===c?void 0:c.authors,publishedDate:!1===t.volumeInfo.hasOwnProperty("publishedDate")?"0000":null===(s=t.volumeInfo)||void 0===s?void 0:s.publishedDate,category:null===(i=t.volumeInfo)||void 0===i?void 0:i.categories,changeBooksData:e.changeBooksData,booksInfo:e.booksInfo},n)}))})]})};var v=function(){var e=Object(o.useState)([]),t=Object(a.a)(e,2),n=t[0],c=t[1],s=Object(o.useState)("all"),i=Object(a.a)(s,2),l=i[0],r=i[1],d=Object(o.useState)([]),h=Object(a.a)(d,2),v=h[0],O=h[1],m=Object(o.useState)(0),k=Object(a.a)(m,2),p=k[0],x=k[1];Object(o.useEffect)((function(){g()}),[n,l]);var g=function(){O("liked"===l?n.filter((function(e){return!0===e.liked})):n)};return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)("section",{className:"search-section",children:[Object(u.jsx)("h1",{children:"Let's find books for you"}),Object(u.jsx)(b,{saveData:function(e){c(e.items),x(e.totalItems)}}),Object(u.jsx)(j,{selectedSort:l,sortChange:function(e){r(e)}})]}),Object(u.jsx)(f,{booksInfo:n,sortedBooks:v,changeBooksData:c,totalAmount:p})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,42)).then((function(t){var n=t.getCLS,o=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),o(e),c(e),s(e),i(e)}))};i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(v,{})}),document.getElementById("root")),O()}},[[41,1,2]]]);
//# sourceMappingURL=main.ebbfa6bc.chunk.js.map